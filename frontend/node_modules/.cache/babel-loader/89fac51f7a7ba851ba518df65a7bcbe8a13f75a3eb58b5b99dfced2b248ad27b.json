{"ast":null,"code":"var _jsxFileName = \"/Users/devronins/inotebook-1/frontend/src/context/notes/notestate.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport NoteContext from \"./notecontext\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NoteState = props => {\n  _s();\n  let location = useLocation();\n  const navigate = useNavigate();\n  const [Id, setId] = useState();\n  const [progress, setProgress] = useState(0);\n  const [reason, setReason] = useState();\n  const [alert, setAlert] = useState(null);\n  let auth = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiNjc5Zjc0MmQ2YTdjOTYwYzUyODMxZDk1IiwiaWF0IjoxNzM4NTEzMjk0fQ.PmUMAz02MgxLedWTqpuA17SlfhYRx2XTG5_gKbJw3Zo\";\n  const [note, setnote] = useState([]);\n  const host = \"http://localhost:4000\";\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    if (type === \"success\") {\n      setTimeout(() => {\n        setAlert(null);\n      }, 3000);\n    }\n  };\n  // function to register\n\n  // function to log in\n  const Login = async (email, password) => {\n    try {\n      const response = await fetch(`${host}/inotebook/user/login`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(email, password)\n      });\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to Login\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      const json = await response.json();\n      if (json.success) {\n        auth = json.authtoken;\n        showAlert(\"success\", \"User Login successfully\");\n        navigate(\"/\");\n      } else {\n        showAlert(\"warning\", json.reason);\n      }\n    } catch (error) {\n      console.error(error);\n      showAlert(\"danger\", error.message);\n    }\n  };\n  // function to get notes\n  const getNotes = async () => {\n    try {\n      setProgress(20);\n      const response = await fetch(`${host}/inotebook/notes`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth\n        }\n      });\n      setProgress(50);\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to fetch notes\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      setProgress(70);\n      const json = await response.json();\n      setnote(json);\n      // showAlert(\"success\",\"Notes fetched\");\n      setProgress(100);\n    } catch (error) {\n      showAlert(\"danger\", \"Internal server error\");\n    }\n  };\n  // function to add note in database\n  const addNote = async (title, description, tag) => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/addnote`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth\n        },\n        body: JSON.stringify({\n          title,\n          description,\n          tag\n        })\n      });\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to get notes\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      const json = await response.json();\n      console.log(json);\n      showAlert(\"success\", \"Note added successfully\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"danger\", \"Internal server error\");\n    }\n  };\n\n  //function to update note from database\n  const updateNote = async (id, title, description, tag) => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/updatenote/${id}`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth\n        },\n        body: JSON.stringify({\n          title,\n          description,\n          tag\n        })\n      });\n      if (!response.ok) {\n        showAlert(\"Danger\", \"Unable to add the note\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      showAlert(\"success\", \"note updated successfully\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"Danger\", \"Internal server error\");\n    }\n  }; //pending\n\n  //function to delete note from database\n  const deleteNote = async id => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/deletenote/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth\n        }\n      });\n      if (!response.ok) {\n        showAlert(\"Danger\", \"Unable to delete the note\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      getNotes();\n      showAlert(\"success\", \"note deleted successfully\");\n      navigate(\"/\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"Danger\", \"Internal server error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(NoteContext.Provider, {\n    value: {\n      location,\n      getNotes,\n      note,\n      Id,\n      setId,\n      addNote,\n      updateNote,\n      deleteNote,\n      auth,\n      reason,\n      progress,\n      setProgress,\n      alert,\n      showAlert,\n      Login\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(NoteState, \"e8hr+5NnFajlxfkDlxGlXS8RUiM=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = NoteState;\nexport default NoteState;\nvar _c;\n$RefreshReg$(_c, \"NoteState\");","map":{"version":3,"names":["useState","NoteContext","useLocation","useNavigate","jsxDEV","_jsxDEV","NoteState","props","_s","location","navigate","Id","setId","progress","setProgress","reason","setReason","alert","setAlert","auth","note","setnote","host","showAlert","type","message","setTimeout","Login","email","password","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","json","success","authtoken","error","console","getNotes","addNote","title","description","tag","log","updateNote","id","deleteNote","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/devronins/inotebook-1/frontend/src/context/notes/notestate.js"],"sourcesContent":["import { useState } from \"react\";\nimport NoteContext from \"./notecontext\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nconst NoteState = (props) => {\n  let location = useLocation();\n  const navigate = useNavigate();\n  const [Id, setId] = useState();\n  const [progress, setProgress] = useState(0);\n  const [reason, setReason] = useState();\n  const [alert, setAlert] = useState(null);\n  let auth =\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiNjc5Zjc0MmQ2YTdjOTYwYzUyODMxZDk1IiwiaWF0IjoxNzM4NTEzMjk0fQ.PmUMAz02MgxLedWTqpuA17SlfhYRx2XTG5_gKbJw3Zo\";\n  const [note, setnote] = useState([]);\n  const host = \"http://localhost:4000\";\n  const showAlert = (type, message) => {\n    setAlert({ type, message });\n    if (type === \"success\") {\n      setTimeout(() => {\n        setAlert(null);\n      }, 3000);\n    }\n  };\n  // function to register\n  \n  // function to log in\n  const Login = async (email, password) => {\n    try {\n      const response = await fetch(`${host}/inotebook/user/login`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify( email, password ),\n      });\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to Login\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      const json = await response.json();\n      if(json.success){\n        auth=json.authtoken;\n        showAlert(\"success\", \"User Login successfully\");\n        navigate(\"/\");\n      }else{\n        showAlert(\"warning\",json.reason)\n      }\n    } catch (error) {\n      console.error(error);\n      showAlert(\"danger\",error.message );\n    }\n  };\n  // function to get notes\n  const getNotes = async () => {\n    try {\n      setProgress(20);\n      const response = await fetch(`${host}/inotebook/notes`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth,\n        },\n      });\n      setProgress(50);\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to fetch notes\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      setProgress(70);\n      const json = await response.json();\n      setnote(json);\n      // showAlert(\"success\",\"Notes fetched\");\n      setProgress(100);\n    } catch (error) {\n      showAlert(\"danger\", \"Internal server error\");\n    }\n  };\n  // function to add note in database\n  const addNote = async (title, description, tag) => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/addnote`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth,\n        },\n        body: JSON.stringify({ title, description, tag }),\n      });\n      if (!response.ok) {\n        showAlert(\"danger\", \"Unable to get notes\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      const json = await response.json();\n      console.log(json);\n      showAlert(\"success\", \"Note added successfully\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"danger\", \"Internal server error\");\n    }\n  };\n\n  //function to update note from database\n  const updateNote = async (id, title, description, tag) => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/updatenote/${id}`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth,\n        },\n        body: JSON.stringify({ title, description, tag }),\n      });\n      if (!response.ok) {\n        showAlert(\"Danger\", \"Unable to add the note\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      showAlert(\"success\", \"note updated successfully\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"Danger\", \"Internal server error\");\n    }\n  }; //pending\n\n  //function to delete note from database\n  const deleteNote = async (id) => {\n    try {\n      const response = await fetch(`${host}/inotebook/notes/deletenote/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": auth,\n        },\n      });\n      if (!response.ok) {\n        showAlert(\"Danger\", \"Unable to delete the note\");\n        throw new Error(`Response status: ${response.status}`);\n      }\n      getNotes();\n      showAlert(\"success\", \"note deleted successfully\");\n      navigate(\"/\");\n    } catch (error) {\n      console.error(error.message);\n      showAlert(\"Danger\", \"Internal server error\");\n    }\n  };\n  return (\n    <NoteContext.Provider\n      value={{\n        location,\n        getNotes,\n        note,\n        Id,\n        setId,\n        addNote,\n        updateNote,\n        deleteNote,\n        auth,\n        reason,\n        progress,\n        setProgress,\n        alert,\n        showAlert,\n        Login,\n      }}\n    >\n      {props.children}\n    </NoteContext.Provider>\n  );\n};\n\nexport default NoteState;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}